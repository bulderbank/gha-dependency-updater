# action.yml
name: 'Automatic Update of Given Dependency'
description: 'Check the given repository for new releases and compare with current version'
inputs:
  path_to_file:
    description: 'Relative path to file where dependency is specified'
    required: true
  line_selector:
    description: 'String or regex pattern (egrep) of line with version'
    required: true
  dependecy_org_repo:
    description: 'The <org>/<repo> of the dependecy'
    required: true
outputs:
  new_version:
    description: 'The new version of the dependecy'
  release_url:
    description: 'The url of the release'
runs:
  using: 'docker'
  image: 'docker://bulderbank/gha-dependency-updater@sha256:155c8f17a9561271e00c5fc6b1d925c277cee9831b9556db95515e3ae0d75e5a'
  args:
    - ${{ inputs.path_to_file }}
    - ${{ inputs.line_selector }}
    - ${{ inputs.dependecy_org_repo }}
branding:
  icon: 'tag'  
  color: 'red'
    
